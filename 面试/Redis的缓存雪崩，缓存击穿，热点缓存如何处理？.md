#Redis的缓存雪崩，缓存击穿，热点缓存如何处理？
作者：阿茂

上一篇我们了解了Redis的缓存淘汰策略与算法，相信大家基本对缓存雪崩造成的原因有所了解，这次我们来聊聊出现这些问题我们该如何解决。
## 缓存雪崩
所谓缓存雪崩就是在某一时刻，缓存大量失效，导致大量请求直接打到数据库，给数据库带来巨大的负担。其实在大连缓存在同一时刻失效的时候会伴随着Redis服务卡顿，严重到卡死的现象，这个我们在上一篇：《Redis LRU缓存淘汰机制》中有说道。那么防止缓存雪崩主要的就是要主动控制Redis中key的过期时间，不要让key在同一时间过期，具体做法上篇文章也有说道。还有就是一定防止客户端误操作del,flush等指令导致的缓存大面积失效，这里可以使用命令重写防止高危误操作
>rename-command用于将某些危险的指令修改成特别的名称，用来避免人为误操作。例如：在配置文件的security块增加rename-command flushall "",这样就相当于禁止了flushall的操作，rename-command keys mykeys就相当于需要额外的防止一些默认key扫描。

## 缓存击穿
缓存击穿，总提示有两种，一种是数据库与缓存一致；还有一种是缓存与数据库不一致的情况，下面我们来分别说下两种情况
### 缓存与数据库一致的缓存击穿
这种缓存击穿的原因就是，在缓存中查不到，直接去查了数据库，数据库也没有，等到下次请求来还会重复这样的操作，当请求量一旦上来就可能拖慢数据库。